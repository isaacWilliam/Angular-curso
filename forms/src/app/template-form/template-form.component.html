<div *ngIf="usuario" class="p-2">
  <form #form="ngForm" (ngSubmit)="onSubmit(form)">
    <div class="grid" >
      <div class="col-12 md:col-6 pt-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="nome">Nome</label>
          <input pInputText id="nome" name="nome" [class]="'ng-invalid'" [(ngModel)]="usuario.nome" required/>
          <ng-template [ngIf]="verificaErro(form.controls['nome'])">
            <small>Nome é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-8 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="email">E-mail</label>
          <input pInputText id="email" name="email" [class]="'ng-invalid'" [(ngModel)]="usuario.email" required/>
          <!--        pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/"-->
          <ng-template [ngIf]="verificaErro(form.controls['email'])">
            <small>E-mail é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="cep">CEP</label>
          <input pInputText id="cep" (blur)="getApiViaCep(form.controls['cep'].value)" name="cep" [class]="'ng-invalid'" [(ngModel)]="usuario.cep" required/>
          <ng-template [ngIf]="verificaErro(form.controls['cep'])">
            <small>CEP é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="logradouro">Rua</label>
          <input pInputText id="logradouro" name="logradouro" [class]="'ng-invalid'" [(ngModel)]="usuario.logradouro" required/>
          <ng-template [ngIf]="verificaErro(form.controls['logradouro'])">
            <small>Rua é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="numero">Número</label>
          <input pInputText id="numero" name="numero" [class]="'ng-invalid'" [(ngModel)]="usuario.numero" required/>
          <ng-template [ngIf]="verificaErro(form.controls['numero'])">
            <small>Número é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-8 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="bairro">Bairro</label>
          <input pInputText id="bairro" name="bairro" [class]="'ng-invalid'" [(ngModel)]="usuario.bairro" required/>
          <ng-template [ngIf]="verificaErro(form.controls['bairro'])">
            <small>Bairro é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="complemento">Complemento</label>
          <input pInputText id="complemento" name="complemento" [class]="'ng-invalid'" [(ngModel)]="usuario.complemento" />
        </div>
      </div>
      <div class="col-12 md:col-6 lg:col-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="localidade">Cidade</label>
          <input pInputText id="localidade" name="localidade" [class]="'ng-invalid'" [(ngModel)]="usuario.localidade" required/>
          <ng-template [ngIf]="verificaErro(form.controls['localidade'])">
            <small>Cidade é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="col-12 md:col-4 p-1">
        <div class="flex flex-column gap-1 height-div">
          <label For="uf">UF</label>
          <input pInputText id="uf" name="uf" [class]="'ng-invalid'" [(ngModel)]="usuario.uf" required/>
          <ng-template [ngIf]="verificaErro(form.controls['uf'])">
            <small>UF é obrigatório!</small>
          </ng-template>
        </div>
      </div>
      <div class="py-2 pl-2">
        <button pButton class="p-button-secondary" [disabled]="form.invalid" type="submit" label="Salvar"></button>
      </div>
    </div>
  </form>
</div>
